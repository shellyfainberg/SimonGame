[{"/Users/shellyfainberg/Desktop/simons-game/client/src/index.js":"1","/Users/shellyfainberg/Desktop/simons-game/client/src/App.js":"2","/Users/shellyfainberg/Desktop/simons-game/client/src/reportWebVitals.js":"3","/Users/shellyfainberg/Desktop/simons-game/client/src/components/ColorCard.js":"4","/Users/shellyfainberg/Desktop/simons-game/client/src/utils/util.js":"5","/Users/shellyfainberg/Desktop/simons-game/client/src/components/Button.js":"6","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/index.js":"7","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/reportWebVitals.js":"8","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/App.js":"9","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/utils/util.js":"10","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/components/Button.js":"11","/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/components/ColorCard.js":"12"},{"size":535,"mtime":1674516212878,"results":"13","hashOfConfig":"14"},{"size":4396,"mtime":1674642142303,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1674516212879,"results":"16","hashOfConfig":"14"},{"size":204,"mtime":1674593238461,"results":"17","hashOfConfig":"14"},{"size":113,"mtime":1674555104191,"results":"18","hashOfConfig":"14"},{"size":158,"mtime":1674593721072,"results":"19","hashOfConfig":"14"},{"size":535,"mtime":1674516212878,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":1674516212879,"results":"22","hashOfConfig":"21"},{"size":4396,"mtime":1674642142303,"results":"23","hashOfConfig":"21"},{"size":113,"mtime":1674555104191,"results":"24","hashOfConfig":"21"},{"size":158,"mtime":1674593721072,"results":"25","hashOfConfig":"21"},{"size":204,"mtime":1674593238461,"results":"26","hashOfConfig":"21"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"if9p9l",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"skzj6c",{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/shellyfainberg/Desktop/simons-game/client/src/index.js",[],[],[],"/Users/shellyfainberg/Desktop/simons-game/client/src/App.js",["65","66","67"],[],"//Frontend\nimport { useEffect, useState } from \"react\";\nimport \"./App.scss\";\nimport Button from \"./components/Button\";\nimport ColorCard from \"./components/ColorCard\";\nimport timeout from \"./utils/util\";\n\nconst App = () => {\n  const [isOn, setIsOn] = useState(false);\n  const colorList = [\"red\", \"green\", \"blue\", \"yellow\"];\n\n  const initPlay = {\n    isDisplay: false,\n    colors: [],\n    score: 0,\n    userPlay: false,\n    userColors: [],\n  };\n  const [play, setPlay] = useState(initPlay);\n  const [flashColor, setFlashColor] = useState(\"\");\n  const [highScore, setHighScore] = useState(() => {\n    const highScoreFromStorage = localStorage.getItem(\"highScore\");\n    if (highScoreFromStorage) {\n      return highScoreFromStorage;\n    }\n    return 0;\n  });\n\n  const startHandle = () => {\n    setIsOn(true);\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ isOn }),\n    })\n      .then((response) => response.json())\n      .catch((error) => console.log(error));\n  }, [isOn]);\n\n  useEffect(() => {\n    if (isOn) {\n      setPlay({ ...initPlay, isDisplay: true });\n    } else {\n      setPlay(initPlay);\n    }\n  }, [isOn]);\n\n  useEffect(() => {\n    if (isOn && play.isDisplay) {\n      let newColor = colorList[Math.floor(Math.random() * 4)];\n      let copyColors = [...play.colors];\n      copyColors.push(newColor);\n      setPlay({ ...play, colors: copyColors });\n    }\n  }, [isOn, play.isDisplay]);\n\n  useEffect(() => {\n    if (isOn && play.isDisplay && play.colors.length) {\n      displayColors();\n    }\n  }, [isOn, play.isDisplay, play.colors.length]);\n\n  const displayColors = async () => {\n    await timeout(700);\n    for (let i = 0; i < play.colors.length; i++) {\n      setFlashColor(play.colors[i]);\n      await timeout(700);\n      setFlashColor(\"\");\n      await timeout(700);\n\n      if (i === play.colors.length - 1) { // last color\n        const copyColors = [...play.colors];\n        setPlay({\n          ...play,\n          isDisplay: false,\n          userPlay: true,\n          userColors: copyColors.reverse(),\n        });\n      }\n    }\n  };\n\n  const cardClickHandle = async (color) => {\n    \n    if (!play.isDisplay && play.userPlay) {\n      const copyUserColors = [...play.userColors];\n      const lastColor = copyUserColors.pop(); // remove the last from the array\n\n      setFlashColor(color);\n\n      if (color === lastColor) {\n        if (copyUserColors.length) {\n          setPlay({ ...play, userColors: copyUserColors });\n        } else {\n          await timeout(700);\n          setPlay({\n            ...play,\n            isDisplay: true,\n            userPlay: false,\n            score: play.colors.length,\n            userColors: [],\n          });\n        }\n      } else {\n        await timeout(700);\n        setPlay({ ...initPlay, score: play.colors.length });\n      }\n      await timeout(700);\n      setFlashColor(\"\");\n    }\n  };\n  const closeHandle = () => {\n    setIsOn(false);\n    const highScore = localStorage.getItem(\"highScore\");\n    if (!highScore || play.score - 1 > highScore) {\n      console.log(\"play.score - 1 \",play.score - 1 )\n      setHighScore(play.score - 1);\n      localStorage.setItem(\"highScore\", JSON.stringify(play.score - 1));\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"cardWarpper\">\n        {colorList &&\n          colorList.map((color, index) => (\n            <ColorCard\n              key={index}\n              color={color}\n              flash={flashColor === color}\n              onClick={() => {\n                cardClickHandle(color);\n              }}\n            ></ColorCard>\n          ))}\n      </div>\n\n      <div className=\"centerWrapper\">\n        {!isOn && <h1 className=\"simon\">SIMON</h1>}\n        {!isOn && !play.score && <Button onClick={startHandle} text=\"Start\" />}\n        {isOn && (play.isDisplay || play.userPlay) && (\n          <div className=\"score\">{play.score}</div>\n        )}\n\n        {isOn && !play.isDisplay && !play.userPlay && play.score && (\n          <div className=\"lost\">\n            <div className=\"score\">Score:{play.score - 1}</div>\n            <Button onClick={closeHandle} text=\"Close\" />\n          </div>\n        )}\n      </div>\n      <div className=\"highScoreWrapper\">\n      <h1>Highest:{highScore}</h1>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","/Users/shellyfainberg/Desktop/simons-game/client/src/reportWebVitals.js",[],[],"/Users/shellyfainberg/Desktop/simons-game/client/src/components/ColorCard.js",[],[],"/Users/shellyfainberg/Desktop/simons-game/client/src/utils/util.js",[],[],"/Users/shellyfainberg/Desktop/simons-game/client/src/components/Button.js",[],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/index.js",[],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/reportWebVitals.js",[],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/App.js",["68","69","70"],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/utils/util.js",[],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/components/Button.js",[],[],"/Users/shellyfainberg/Desktop/simons-game2/simonsgame/client/src/components/ColorCard.js",[],[],{"ruleId":"71","severity":1,"message":"72","line":51,"column":6,"nodeType":"73","endLine":51,"endColumn":12,"suggestions":"74"},{"ruleId":"71","severity":1,"message":"75","line":60,"column":6,"nodeType":"73","endLine":60,"endColumn":28,"suggestions":"76"},{"ruleId":"71","severity":1,"message":"77","line":66,"column":6,"nodeType":"73","endLine":66,"endColumn":48,"suggestions":"78"},{"ruleId":"71","severity":1,"message":"72","line":51,"column":6,"nodeType":"73","endLine":51,"endColumn":12,"suggestions":"79"},{"ruleId":"71","severity":1,"message":"75","line":60,"column":6,"nodeType":"73","endLine":60,"endColumn":28,"suggestions":"80"},{"ruleId":"71","severity":1,"message":"77","line":66,"column":6,"nodeType":"73","endLine":66,"endColumn":48,"suggestions":"81"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'initPlay'. Either include it or remove the dependency array.","ArrayExpression",["82"],"React Hook useEffect has missing dependencies: 'colorList' and 'play'. Either include them or remove the dependency array. You can also do a functional update 'setPlay(p => ...)' if you only need 'play' in the 'setPlay' call.",["83"],"React Hook useEffect has a missing dependency: 'displayColors'. Either include it or remove the dependency array.",["84"],["85"],["86"],["87"],{"desc":"88","fix":"89"},{"desc":"90","fix":"91"},{"desc":"92","fix":"93"},{"desc":"88","fix":"94"},{"desc":"90","fix":"95"},{"desc":"92","fix":"96"},"Update the dependencies array to be: [initPlay, isOn]",{"range":"97","text":"98"},"Update the dependencies array to be: [colorList, isOn, play, play.isDisplay]",{"range":"99","text":"100"},"Update the dependencies array to be: [isOn, play.isDisplay, play.colors.length, displayColors]",{"range":"101","text":"102"},{"range":"103","text":"98"},{"range":"104","text":"100"},{"range":"105","text":"102"},[1243,1249],"[initPlay, isOn]",[1503,1525],"[colorList, isOn, play, play.isDisplay]",[1639,1681],"[isOn, play.isDisplay, play.colors.length, displayColors]",[1243,1249],[1503,1525],[1639,1681]]